---
// Gratitude & Apology Section - សេចក្តីថ្លែងអំណរគុណ និង លិខិតសូមអភ័យទោស
---

<section
    id="gratitude-apology"
    class="relative min-h-screen flex items-center justify-center bg-gradient-to-b from-[#F5E6D3] to-[#FFF8DC] py-20 px-6"
>
    <!-- Decorative Background Pattern -->
    <div class="absolute inset-0 opacity-5 pointer-events-none overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-full">
            <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern
                        id="floral-pattern"
                        x="0"
                        y="0"
                        width="100"
                        height="100"
                        patternUnits="userSpaceOnUse"
                    >
                        <circle cx="50" cy="50" r="3" fill="#D4AF37"></circle>
                        <path
                            d="M 50 30 Q 60 40, 50 50 Q 40 40, 50 30"
                            stroke="#D4AF37"
                            stroke-width="1"
                            fill="none"></path>
                        <path
                            d="M 50 70 Q 60 60, 50 50 Q 40 60, 50 70"
                            stroke="#D4AF37"
                            stroke-width="1"
                            fill="none"></path>
                        <path
                            d="M 30 50 Q 40 60, 50 50 Q 40 40, 30 50"
                            stroke="#D4AF37"
                            stroke-width="1"
                            fill="none"></path>
                        <path
                            d="M 70 50 Q 60 60, 50 50 Q 60 40, 70 50"
                            stroke="#D4AF37"
                            stroke-width="1"
                            fill="none"></path>
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#floral-pattern)"
                ></rect>
            </svg>
        </div>
    </div>

    <div class="max-w-5xl mx-auto relative z-10 w-full">
        <!-- Section Top Decoration -->
        <div class="text-center mb-12 fade-in">
            <svg width="200" height="60" viewBox="0 0 200 60" class="mx-auto">
                <defs>
                    <linearGradient
                        id="goldGrad1"
                        x1="0%"
                        y1="0%"
                        x2="100%"
                        y2="0%"
                    >
                        <stop
                            offset="0%"
                            style="stop-color:#FFD700;stop-opacity:1"></stop>
                        <stop
                            offset="50%"
                            style="stop-color:#D4AF37;stop-opacity:1"></stop>
                        <stop
                            offset="100%"
                            style="stop-color:#FFD700;stop-opacity:1"></stop>
                    </linearGradient>
                </defs>
                <!-- Decorative line with lotus -->
                <path
                    d="M 10 30 Q 50 10, 100 30 Q 150 50, 190 30"
                    stroke="url(#goldGrad1)"
                    stroke-width="2"
                    fill="none"></path>
                <!-- Center lotus flower -->
                <g transform="translate(85, 15)">
                    <ellipse
                        cx="15"
                        cy="20"
                        rx="8"
                        ry="15"
                        fill="#FFD700"
                        opacity="0.6"></ellipse>
                    <ellipse cx="15" cy="20" rx="5" ry="12" fill="#D4AF37"
                    ></ellipse>
                    <ellipse
                        cx="8"
                        cy="22"
                        rx="6"
                        ry="10"
                        fill="#FFD700"
                        opacity="0.5"
                        transform="rotate(-20, 8, 22)"></ellipse>
                    <ellipse
                        cx="22"
                        cy="22"
                        rx="6"
                        ry="10"
                        fill="#FFD700"
                        opacity="0.5"
                        transform="rotate(20, 22, 22)"></ellipse>
                    <circle cx="15" cy="18" r="3" fill="#B8860B"></circle>
                </g>
                <!-- Decorative dots -->
                <circle cx="30" cy="25" r="3" fill="#FFD700"></circle>
                <circle cx="170" cy="25" r="3" fill="#FFD700"></circle>
            </svg>
        </div>

        <!-- Two Cards Layout -->
        <div class="grid md:grid-cols-1 gap-10 md:gap-12">
            <!-- Gratitude Card - សេចក្តីថ្លែងអំណរគុណ -->
            <div class="fade-in">
                <div
                    class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border-2 border-[#D4AF37] p-8 md:p-10 relative overflow-hidden hover:shadow-gold transition-all duration-500"
                >
                    <!-- Decorative Corner Elements -->
                    <div class="absolute top-0 left-0 w-24 h-24">
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>
                    <div
                        class="absolute top-0 right-0 w-24 h-24 transform scale-x-[-1]"
                    >
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-24 h-24 transform scale-y-[-1]"
                    >
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>
                    <div
                        class="absolute bottom-0 right-0 w-24 h-24 transform scale-[-1]"
                    >
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>

                    <div class="relative z-10">
                        <!-- Header Icon -->
                        <div class="text-center mb-6">
                            <div
                                class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-[#FFD700] to-[#D4AF37] shadow-lg"
                            >
                                <svg
                                    width="40"
                                    height="40"
                                    viewBox="0 0 40 40"
                                    fill="none"
                                >
                                    <!-- Praying hands / Thank you icon -->
                                    <path
                                        d="M 20 8 L 20 14"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        stroke-linecap="round"></path>
                                    <path
                                        d="M 15 10 L 17 15"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        stroke-linecap="round"></path>
                                    <path
                                        d="M 25 10 L 23 15"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        stroke-linecap="round"></path>
                                    <path
                                        d="M 12 16 Q 15 14, 20 18 Q 25 14, 28 16"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        fill="none"></path>
                                    <path
                                        d="M 14 20 Q 17 18, 20 22 Q 23 18, 26 20"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        fill="none"></path>
                                    <path
                                        d="M 16 24 Q 18 22, 20 25 Q 22 22, 24 24"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        fill="none"></path>
                                    <path
                                        d="M 20 28 L 20 32"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        stroke-linecap="round"></path>
                                    <circle cx="20" cy="35" r="2" fill="#8B4513"
                                    ></circle>
                                </svg>
                            </div>
                        </div>

                        <!-- Title -->
                        <h3
                            class="text-2xl md:text-3xl font-moul text-center text-[#8B0000] mb-2"
                            style="font-family: 'Moul', serif;"
                        >
                            សេចក្តីថ្លែងអំណរគុណ
                        </h3>
                        <p
                            class="text-base md:text-lg font-eng font-medium text-center text-[#D2691E] mb-8 italic"
                        >
                            Heartfelt Gratitude
                        </p>

                        <!-- Decorative Divider -->
                        <div
                            class="flex items-center justify-center gap-4 mb-8"
                        >
                            <div
                                class="h-[2px] w-16 bg-gradient-to-r from-transparent to-[#D4AF37]"
                            >
                            </div>
                            <svg
                                width="30"
                                height="20"
                                viewBox="0 0 30 20"
                                class="text-[#D4AF37]"
                            >
                                <path
                                    d="M 15 0 Q 20 8, 15 10 Q 10 8, 15 0"
                                    fill="currentColor"></path>
                                <path
                                    d="M 15 20 Q 20 12, 15 10 Q 10 12, 15 20"
                                    fill="currentColor"></path>
                                <path
                                    d="M 0 10 Q 8 15, 15 10 Q 8 5, 0 10"
                                    fill="currentColor"
                                    opacity="0.6"></path>
                                <path
                                    d="M 30 10 Q 22 15, 15 10 Q 22 5, 30 10"
                                    fill="currentColor"
                                    opacity="0.6"></path>
                            </svg>
                            <div
                                class="h-[2px] w-16 bg-gradient-to-l from-transparent to-[#D4AF37]"
                            >
                            </div>
                        </div>

                        <!-- Body Text -->
                        <div class="text-center px-4 md:px-8">
                            <p
                                class="text-lg md:text-xl font-khmer text-[#8B4513] text-center"
                                style="line-height: 1.8; padding: 0.5rem 0;"
                            >
                                យើងខ្ញុំជាមាតា បិតា កូនប្រុស កូនស្រី
                                សូមថ្លែងអំណរគុណ
                                យ៉ាងជ្រាលជ្រៅចំពោះការអញ្ជើញចូលរួមជា
                                ភ្ញៀវកិត្តិយសក្នុង ពិធីរៀបអាពាហ៍ពិពាហ៍
                                កូនប្រុស-កូនស្រី របស់យើងខ្ញុំ។ សូម គោរពជូនពរ
                                ឯកឧត្តម លោកអ្នកឧកញ៉ា អ្នកឧកញ៉ា ឧកញ៉ា លោកជំទាវ
                                លោក លោកស្រី អ្នកនាង កញ្ញា និងភ្ញៀវកិត្តិយស
                                ទាំងអស់មាន សុខភាពល្អ និងទទួលបានជោគជ័យគ្រប់
                                ភារៈកិច្ច។
                            </p>

                            <!-- Thank You Closing -->
                            <div class="mt-8 pt-6 border-t border-[#D4AF37]/30">
                                <p
                                    class="text-xl md:text-2xl font-khmer text-[#8B0000] font-bold"
                                    style="line-height: 1.8; padding: 0.5rem 0;"
                                >
                                    សូមអរគុណ!
                                </p>
                                <p
                                    class="text-base font-eng text-[#D2691E] italic mt-2"
                                >
                                    Thank You!
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Apology Card - លិខិតសូមអភ័យទោស -->
            <div class="fade-in">
                <div
                    class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border-2 border-[#D4AF37] p-8 md:p-10 relative overflow-hidden hover:shadow-gold transition-all duration-500"
                >
                    <!-- Decorative Corner Elements -->
                    <div class="absolute top-0 left-0 w-24 h-24">
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>
                    <div
                        class="absolute top-0 right-0 w-24 h-24 transform scale-x-[-1]"
                    >
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-24 h-24 transform scale-y-[-1]"
                    >
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>
                    <div
                        class="absolute bottom-0 right-0 w-24 h-24 transform scale-[-1]"
                    >
                        <svg viewBox="0 0 100 100" class="w-full h-full">
                            <path
                                d="M 0 0 L 80 0 Q 50 10, 40 40 Q 10 50, 0 80 Z"
                                fill="url(#cornerGrad)"
                                opacity="0.15"></path>
                            <path
                                d="M 0 0 L 60 0 C 30 10, 10 30, 0 60 Z"
                                fill="#D4AF37"
                                opacity="0.1"></path>
                            <path
                                d="M 5 0 L 30 0 C 15 8, 8 15, 0 30"
                                stroke="#D4AF37"
                                stroke-width="2"
                                fill="none"></path>
                        </svg>
                    </div>

                    <div class="relative z-10">
                        <!-- Header Icon -->
                        <div class="text-center mb-6">
                            <div
                                class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-[#FFD700] to-[#D4AF37] shadow-lg"
                            >
                                <svg
                                    width="40"
                                    height="40"
                                    viewBox="0 0 40 40"
                                    fill="none"
                                >
                                    <!-- Letter / Document icon -->
                                    <rect
                                        x="10"
                                        y="8"
                                        width="20"
                                        height="26"
                                        rx="2"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        fill="none"></rect>
                                    <path
                                        d="M 14 14 L 26 14"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        stroke-linecap="round"></path>
                                    <path
                                        d="M 14 20 L 26 20"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        stroke-linecap="round"></path>
                                    <path
                                        d="M 14 26 L 22 26"
                                        stroke="#8B4513"
                                        stroke-width="2"
                                        stroke-linecap="round"></path>
                                    <path
                                        d="M 22 26 Q 26 26, 26 30 L 26 34"
                                        stroke="#8B4513"
                                        stroke-width="1.5"
                                        fill="none"></path>
                                    <circle cx="26" cy="36" r="2" fill="#8B4513"
                                    ></circle>
                                </svg>
                            </div>
                        </div>

                        <!-- Title -->
                        <h3
                            class="text-2xl md:text-3xl font-moul text-center text-[#8B0000] mb-2"
                            style="font-family: 'Moul', serif;"
                        >
                            លិខិតសូមអភ័យទោស
                        </h3>
                        <p
                            class="text-base md:text-lg font-eng font-medium text-center text-[#D2691E] mb-8 italic"
                        >
                            Letter of Apology
                        </p>

                        <!-- Decorative Divider -->
                        <div
                            class="flex items-center justify-center gap-4 mb-8"
                        >
                            <div
                                class="h-[2px] w-16 bg-gradient-to-r from-transparent to-[#D4AF37]"
                            >
                            </div>
                            <svg
                                width="30"
                                height="20"
                                viewBox="0 0 30 20"
                                class="text-[#D4AF37]"
                            >
                                <path
                                    d="M 15 0 Q 20 8, 15 10 Q 10 8, 15 0"
                                    fill="currentColor"></path>
                                <path
                                    d="M 15 20 Q 20 12, 15 10 Q 10 12, 15 20"
                                    fill="currentColor"></path>
                                <path
                                    d="M 0 10 Q 8 15, 15 10 Q 8 5, 0 10"
                                    fill="currentColor"
                                    opacity="0.6"></path>
                                <path
                                    d="M 30 10 Q 22 15, 15 10 Q 22 5, 30 10"
                                    fill="currentColor"
                                    opacity="0.6"></path>
                            </svg>
                            <div
                                class="h-[2px] w-16 bg-gradient-to-l from-transparent to-[#D4AF37]"
                            >
                            </div>
                        </div>

                        <!-- Body Text -->
                        <div class="text-center px-4 md:px-8">
                            <p
                                class="text-lg md:text-xl font-khmer text-[#8B4513] text-center"
                                style="line-height: 1.8; padding: 0.5rem 0;"
                            >
                                យើងខ្ញុំជាមាតា បិតា កូនប្រុស-កូនស្រី
                                សូមអភ័យទោសដោយ ពុំបានជួបអញ្ជើញដោយផ្ទាល់
                                និងការសរសេរឈ្មោះរបស់ភ្ញៀវ
                                កិត្តិយសមិនបានត្រឹមត្រូវ ឬពុំបានសរសេរឈ្មោះ។
                                វត្តមានរបស់ ឯកឧត្តម លោកអ្នកឧកញ៉ា អ្នកឧកញ៉ា ឧកញ៉ា
                                លោកជំទាវ លោក លោកស្រី អ្នកនាង កញ្ញា
                                និងប្រិយមិត្តទាំងអស់ គឺ
                                ជាកិត្តិយសដ៏ឧត្តុងឧត្តមសម្រាប់ក្រុមគ្រួសាររបស់យើងខ្ញុំ។
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Decoration -->
        <div class="text-center mt-12 fade-in">
            <svg width="180" height="50" viewBox="0 0 180 50" class="mx-auto">
                <defs>
                    <linearGradient
                        id="bottomGrad"
                        x1="0%"
                        y1="0%"
                        x2="100%"
                        y2="0%"
                    >
                        <stop offset="0%" style="stop-color:transparent"></stop>
                        <stop offset="50%" style="stop-color:#D4AF37"></stop>
                        <stop offset="100%" style="stop-color:transparent"
                        ></stop>
                    </linearGradient>
                </defs>
                <path
                    d="M 10 25 Q 45 15, 90 25 Q 135 35, 170 25"
                    stroke="url(#bottomGrad)"
                    stroke-width="2"
                    fill="none"></path>
                <circle cx="45" cy="20" r="3" fill="#FFD700"></circle>
                <circle cx="90" cy="25" r="5" fill="#D4AF37"></circle>
                <circle cx="135" cy="20" r="3" fill="#FFD700"></circle>
                <!-- Heart shape -->
                <path
                    d="M 85 25 Q 85 20, 90 20 Q 95 20, 95 25 Q 95 30, 90 35 Q 85 30, 85 25"
                    fill="#8B0000"
                    opacity="0.3"></path>
            </svg>
        </div>
    </div>

    <!-- SVG Definitions for gradients -->
    <svg width="0" height="0" class="absolute">
        <defs>
            <linearGradient id="cornerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1"
                ></stop>
                <stop offset="100%" style="stop-color:#D4AF37;stop-opacity:1"
                ></stop>
            </linearGradient>
        </defs>
    </svg>
</section>

<style>
    .hover\:shadow-gold:hover {
        box-shadow:
            0 25px 50px -12px rgba(212, 175, 55, 0.25),
            0 0 30px rgba(212, 175, 55, 0.15);
    }

    .font-moul {
        font-family: "Moul", serif;
    }

    /* Animation for cards */
    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }
        100% {
            background-position: 200% 0;
        }
    }

    .bg-white\/95::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            90deg,
            transparent 0%,
            rgba(255, 215, 0, 0.05) 50%,
            transparent 100%
        );
        background-size: 200% 100%;
        animation: shimmer 8s ease-in-out infinite;
        pointer-events: none;
    }
</style>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    // Animate on scroll
    const gratitudeFadeElements = document.querySelectorAll(
        "#gratitude-apology .fade-in",
    );

    gratitudeFadeElements.forEach((element, index) => {
        // Set initial state
        gsap.set(element, { opacity: 0, y: 50 });

        gsap.to(element, {
            scrollTrigger: {
                trigger: element,
                start: "top 85%",
                end: "bottom 20%",
                toggleActions: "play none none none",
            },
            opacity: 1,
            y: 0,
            duration: 0.8,
            delay: index * 0.2,
            ease: "power2.out",
        });
    });
</script>
